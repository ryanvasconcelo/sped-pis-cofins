<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Automa√ß√£o SPED PIS/COFINS ‚Äî Revis√£o de CSTs</title>
  <meta name="description"
    content="Sistema de revis√£o de CSTs de PIS e COFINS em arquivos SPED EFD-Contribui√ß√µes para recupera√ß√£o de cr√©ditos tribut√°rios">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <!-- TOAST CONTAINER -->
  <div id="toast-container"></div>

  <!-- HEADER -->
  <header class="header">
    <div class="header-content">
      <div class="header-brand">
        <span class="header-icon">üèõÔ∏è</span>
        <div>
          <h1>Automa√ß√£o SPED PIS/COFINS</h1>
          <p class="header-subtitle">Revis√£o de CSTs para Recupera√ß√£o Tribut√°ria</p>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="main">
    <!-- UPLOAD SECTION -->
    <section class="section upload-section">
      <div class="section-header">
        <h2>üìÇ Upload do Arquivo SPED</h2>
        <p>Selecione o arquivo TXT da EFD-Contribui√ß√µes do cliente</p>
      </div>
      <div id="dropzone" class="dropzone">
        <div class="upload-prompt">
          <span class="upload-icon">üìÇ</span>
          <p class="upload-title">Arraste seu arquivo SPED (.TXT) aqui</p>
          <p class="upload-subtitle">ou clique para selecionar</p>
        </div>
      </div>
      <input type="file" id="file-input" accept=".txt,.TXT" hidden>
    </section>

    <!-- FILE INFO -->
    <section id="file-info" class="section hidden"></section>

    <!-- ACTIONS PANEL -->
    <section id="actions-panel" class="section actions-panel hidden">
      <div class="actions-row">
        <button id="btn-download-ncm" class="btn btn-primary">
          <span class="btn-icon">‚¨áÔ∏è</span>
          Download NCMs para e-Auditoria
        </button>
        <div class="action-hint">
          Baixe a lista de NCMs √∫nicos para consultar no e-Auditoria e obter os CSTs corretos
        </div>
      </div>
    </section>

    <!-- SEARCH PANEL -->
    <section id="search-panel" class="section search-panel hidden">
      <div class="section-header">
        <h2>üìã Painel de Revis√£o de CSTs</h2>
        <p>Altere os CSTs de PIS e COFINS para os c√≥digos que geram cr√©dito tribut√°rio</p>
      </div>
      <div class="search-bar">
        <span class="search-icon">üîç</span>
        <input type="text" id="search-input" placeholder="Filtrar por NCM, descri√ß√£o..." class="search-input">
      </div>
    </section>

    <!-- TABLE -->
    <section id="table-container" class="section table-section hidden">
      <div class="table-scroll">
        <table class="data-table">
          <thead>
            <tr>
              <th class="th-num">#</th>
              <th class="th-desc">Descri√ß√£o / CNPJ</th>
              <th class="th-ncm">NCM</th>
              <th class="th-cfop">CFOP</th>
              <th class="th-money">Base C√°lc.</th>
              <th class="th-cst" colspan="2">
                <div class="th-group">
                  <span class="th-group-label">PIS</span>
                  <div class="th-sub">
                    <span>CST Atual</span>
                    <span>Novo CST</span>
                  </div>
                </div>
              </th>
              <th class="th-aliq">Al√≠q. PIS</th>
              <th class="th-money">Valor PIS</th>
              <th class="th-cst" colspan="2">
                <div class="th-group">
                  <span class="th-group-label">COFINS</span>
                  <div class="th-sub">
                    <span>CST Atual</span>
                    <span>Novo CST</span>
                  </div>
                </div>
              </th>
              <th class="th-aliq">Al√≠q. COF</th>
              <th class="th-money">Valor COF</th>
            </tr>
          </thead>
          <tbody id="data-tbody">
          </tbody>
        </table>
      </div>
    </section>

    <!-- SUMMARY -->
    <section id="summary" class="section hidden"></section>

    <!-- FINAL ACTIONS -->
    <section id="final-actions" class="section final-actions">
      <button id="btn-concluir" class="btn btn-success">
        <span class="btn-icon">‚úÖ</span>
        Concluir Revis√£o
      </button>
      <button id="btn-download-final" class="btn btn-accent" disabled>
        <span class="btn-icon">‚¨áÔ∏è</span>
        Download TXT Revisado
      </button>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <p>Automa√ß√£o SPED PIS/COFINS v1.0 ‚Äî Processamento 100% local. Seus dados fiscais nunca saem do seu computador.</p>
  </footer>

  <!-- SCRIPTS (ordem importa: depend√™ncias primeiro) -->
  <script src="js/sped-parser.js"></script>
  <script src="js/ncm-extractor.js"></script>
  <script src="js/calculator.js"></script>
  <script src="js/sped-writer.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/app.js"></script>
</body>

</html>